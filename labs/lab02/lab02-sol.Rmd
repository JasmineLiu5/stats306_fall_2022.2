---
title: "STATS306 Lab2"
author: "Your Name"
output: 
  html_document:
    number_sections: true
runtime: shiny_prerendered
---

<style type="text/css">
  body{
  font-size: 14pt;
}
</style>

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(learnr)
library(tidyverse)
```

# Logistics

- Quiz 2 is due by 11:59 PM on 9/25.
- The HW1 deadline has been pushed back one week; it's now due by 11:59 PM on 9/25.
- HW2 will be released on 9/18 and will be due by 11:59 PM on 10/2.

# Plotting with `ggplot2`

Recall from lecture that a plot made using `ggplot2` has several components:

* The graph object itself (creating using `ggplot(data)`)
* A set of *aesthetic* mappings (connecting data to visual variables)
* Layers: collections of geometric elements (`geom_*()`) and statistical transformations (`stat_*()`)
* Scales: information on the range or composition of variables
* Coordinate systems: how the data are arranged spatially
* Facet: breaking a single plot into many, similar plots
* Theme: all the other color and printing aspects of the plot

Today we'll talk about aesthetic mappings, geometric elements, and statistical transformations.

## Aesthetic Mappings

An *aesthetic* is a visual property of the geometric elements in a plot.

```{r aesthetic_mappings_example1}
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = cty, y = hwy, color = drv))
```

Geometric elements represent observations in the dataset. In the plot above, the points are the geometric elements. Different geometric elements have different aesthetics. Some aesthetics of points are

* `x`, or x-coordinate
* `y`, or y-coordinate
* `color`
* `shape`
* `size`

The background, the gridlines, and the tick marks are not geometric elements because they don't represent any observations. This means that properties like the background color aren't aesthetics.

An *aesthetic mapping* is an assignment of an aesthetic to a variable in the dataset. Aesthetic mappings are listed inside `aes()`. For example, in the previous plot, the aesthetic `x` was mapped to the variable `cty`. 

Each layer has a set of aesthetic mappings. By default, a layer inherits its mappings from the base created by `ggplot()`. So, the code for the plot above could be changed to

```{r aesthetic_mappings_example2}
ggplot(data = mpg, mapping = aes(x = cty, y = hwy, color = drv)) + 
  geom_point()
```

### Exercise 1 {-}

#### (a) {-}

Modify the code below so that the point shape varies by drive train (`drv` value).

```{r exercise1a, exercise=T}
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = cty, y = hwy, color = drv, shape = drv))
```

#### (b) {-}

Modify the code below so that each point is a triangle. How is your code different from your code for part (a)? Why is it different?

*Hint: use the string "triangle"*

```{r exercise1b, exercise=T}
# The key difference here is that the shape = part goes outside aes() instead
# of inside aes(). This is because here we're setting shape to a constant
# instead of mapping it to a variable. Only aesthetic mappings go inside
# aes().
ggplot(data = mpg) + 
  geom_point(mapping = aes(x = cty, y = hwy, color = drv), shape = "triangle")
```